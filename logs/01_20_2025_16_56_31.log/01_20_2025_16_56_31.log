2025-01-20 16:56:31,434 - 193 - pyngrok.process - INFO - Updating authtoken for default "config_path" of "ngrok_path": C:\Users\nickc\AppData\Local\ngrok\ngrok.exe
2025-01-20 16:56:31,479 - 283 - pyngrok.ngrok - INFO - Opening tunnel named: http-5000-dd83fa1e-da54-4f5c-a824-523eb4f46c3a
2025-01-20 16:56:31,515 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg="no configuration paths supplied"
2025-01-20 16:56:31,515 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg="using configuration at default config path" path=C:\\Users\\nickc\\AppData\\Local/ngrok/ngrok.yml
2025-01-20 16:56:31,516 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg="open config file" path=C:\\Users\\nickc\\AppData\\Local\\ngrok\\ngrok.yml err=nil
2025-01-20 16:56:31,516 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg="starting web service" obj=web addr=127.0.0.1:4040 allow_hosts=[]
2025-01-20 16:56:31,654 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg="client session established" obj=tunnels.session
2025-01-20 16:56:31,654 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg="tunnel session started" obj=tunnels.session
2025-01-20 16:56:31,678 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg=start pg=/api/tunnels id=ffbaa1fd489ee9d0
2025-01-20 16:56:31,678 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg=end pg=/api/tunnels id=ffbaa1fd489ee9d0 status=200 dur=896.9Âµs
2025-01-20 16:56:31,679 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg=start pg=/api/tunnels id=3b2a5801daf497f9
2025-01-20 16:56:31,679 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg=end pg=/api/tunnels id=3b2a5801daf497f9 status=200 dur=0s
2025-01-20 16:56:31,679 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg=start pg=/api/tunnels id=7b1a11732b9fb649
2025-01-20 16:56:31,705 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg="started tunnel" obj=tunnels name=http-5000-dd83fa1e-da54-4f5c-a824-523eb4f46c3a addr=http://localhost:5000 url=https://6dce-2405-201-3009-d88a-c13b-f785-f04-1125.ngrok-free.app
2025-01-20 16:56:31,705 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:31+0530 lvl=info msg=end pg=/api/tunnels id=7b1a11732b9fb649 status=201 dur=25.2576ms
2025-01-20 16:56:31,719 - 97 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-01-20 16:56:31,719 - 97 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-01-20 16:56:32,304 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:56:32+0530 lvl=info msg="update available" obj=updater
2025-01-20 16:58:10,506 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:58:10+0530 lvl=info msg="join connections" obj=join id=9e4327a323d0 l=127.0.0.1:5000 r=44.234.89.142:50420
2025-01-20 16:58:10,510 - 116 - root - INFO - log order: get raw data for order
2025-01-20 16:58:10,512 - 120 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123490, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': '04-750-01-666', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'red wi test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 16:58:10,527 - 128 - root - INFO - check inventory status: In Stock
2025-01-20 16:58:10,527 - 156 - root - INFO - stock is found in database: 04-750-01-666
2025-01-20 16:58:15,713 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T16:58:15+0530 lvl=info msg="join connections" obj=join id=9bcb7b48be41 l=127.0.0.1:5000 r=34.220.152.236:48904
2025-01-20 16:58:15,717 - 116 - root - INFO - log order: get raw data for order
2025-01-20 16:58:15,718 - 120 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123490, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': '04-750-01-666', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'red wi test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 16:58:15,726 - 128 - root - INFO - check inventory status: In Stock
2025-01-20 16:58:15,726 - 156 - root - INFO - stock is found in database: 04-750-01-666
2025-01-20 16:58:19,860 - 169 - root - INFO - process order response :{'acceptedOrders': [], 'rejectedOrders': [{'status': 'failure', 'orderNo': 'CLTUR-123490', 'description': {'error': 'Error in create Order : Products are not available at FC, Back order created'}}]}
2025-01-20 16:58:19,861 - 198 - root - INFO - {'status': 'error', 'message': 'list index out of range'}
2025-01-20 16:58:19,867 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 16:58:19] "[35m[1mPOST /ask/order_process HTTP/1.1[0m" 500 -
2025-01-20 16:58:30,122 - 169 - root - INFO - process order response :{'acceptedOrders': [{'status': 'New', 'description': '123490', 'orderNo': 'CLTUR-123490'}], 'rejectedOrders': []}
2025-01-20 16:58:30,123 - 171 - root - INFO - extract order no : CLTUR-123490
2025-01-20 16:58:30,217 - 176 - root - INFO - create order table :Table `order_detail` has been created successfully.
2025-01-20 16:58:30,238 - 179 - root - INFO - order no add: Order number CLTUR-123490 added successfully.
2025-01-20 16:58:30,238 - 188 - root - INFO - last == {'status': 200, 'data': {'acceptedOrders': [{'status': 'New', 'description': '123490', 'orderNo': 'CLTUR-123490'}], 'rejectedOrders': []}}
2025-01-20 16:58:30,240 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 16:58:30] "POST /ask/order_process HTTP/1.1" 200 -
2025-01-20 17:19:03,658 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:03+0530 lvl=info msg="received stop request" obj=app stopReq="{err:<nil> restart:false}"
2025-01-20 17:19:03,658 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:03+0530 lvl=info msg="session closing" obj=tunnels.session err=nil
2025-01-20 17:19:03,658 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:03+0530 lvl=info msg="accept failed" obj=tunnels.session obj=csess id=c61e735da6bc err="reconnecting session closed"
2025-01-20 17:19:03,658 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:03+0530 lvl=info msg="no more state changes" obj=tunnels.session
2025-01-20 17:19:03,658 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:03+0530 lvl=info msg="failed to accept connection: Listener closed" obj=tunnels.session clientid=e640b06e15c683da8d562e606d6979c5
2025-01-20 17:19:03,658 - 99 - pyngrok.process.ngrok - WARNING - t=2025-01-20T17:19:03+0530 lvl=warn msg="Stopping forwarder" name=http-5000-dd83fa1e-da54-4f5c-a824-523eb4f46c3a acceptErr="failed to accept connection: Listener closed"
