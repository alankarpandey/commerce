2025-01-20 17:40:54,284 - 193 - pyngrok.process - INFO - Updating authtoken for default "config_path" of "ngrok_path": C:\Users\nickc\AppData\Local\ngrok\ngrok.exe
2025-01-20 17:40:54,326 - 283 - pyngrok.ngrok - INFO - Opening tunnel named: http-5000-5c8ecb5e-f684-4069-8aae-dc09dfc486cd
2025-01-20 17:40:54,360 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg="no configuration paths supplied"
2025-01-20 17:40:54,360 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg="using configuration at default config path" path=C:\\Users\\nickc\\AppData\\Local/ngrok/ngrok.yml
2025-01-20 17:40:54,361 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg="open config file" path=C:\\Users\\nickc\\AppData\\Local\\ngrok\\ngrok.yml err=nil
2025-01-20 17:40:54,362 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg="starting web service" obj=web addr=127.0.0.1:4040 allow_hosts=[]
2025-01-20 17:40:54,599 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg="client session established" obj=tunnels.session
2025-01-20 17:40:54,599 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg="tunnel session started" obj=tunnels.session
2025-01-20 17:40:54,627 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg=start pg=/api/tunnels id=d18be7fcd23cf789
2025-01-20 17:40:54,627 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg=end pg=/api/tunnels id=d18be7fcd23cf789 status=200 dur=1.1225ms
2025-01-20 17:40:54,628 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg=start pg=/api/tunnels id=2904b5ec2741a596
2025-01-20 17:40:54,628 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg=end pg=/api/tunnels id=2904b5ec2741a596 status=200 dur=0s
2025-01-20 17:40:54,629 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg=start pg=/api/tunnels id=ec43df8f5defb7f4
2025-01-20 17:40:54,719 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg="started tunnel" obj=tunnels name=http-5000-5c8ecb5e-f684-4069-8aae-dc09dfc486cd addr=http://localhost:5000 url=https://b513-2405-201-3009-d88a-c13b-f785-f04-1125.ngrok-free.app
2025-01-20 17:40:54,719 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:54+0530 lvl=info msg=end pg=/api/tunnels id=ec43df8f5defb7f4 status=201 dur=89.2452ms
2025-01-20 17:40:54,732 - 97 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-01-20 17:40:54,733 - 97 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-01-20 17:40:55,119 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:40:55+0530 lvl=info msg="update available" obj=updater
2025-01-20 17:44:48,297 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:44:48+0530 lvl=info msg="join connections" obj=join id=398c4508c31e l=127.0.0.1:5000 r=52.33.20.13:58048
2025-01-20 17:44:48,300 - 60 - root - INFO - log product :sucessfuly get raw data of product
2025-01-20 17:44:48,310 - 64 - root - INFO - create product body for update in advatix
2025-01-20 17:44:49,705 - 75 - root - INFO - Table 'product' already exists.
2025-01-20 17:44:49,705 - 98 - root - INFO - {'status': 200, 'data': {'code': 1, 'message': 'failure', 'errors': {'responseMessage': 'SKU / UPC number already exists'}}}
2025-01-20 17:44:49,708 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 17:44:49] "POST /ask/insert_advatix HTTP/1.1" 200 -
2025-01-20 17:46:37,471 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:46:37+0530 lvl=info msg="join connections" obj=join id=6c8cfb79ba2f l=127.0.0.1:5000 r=52.33.20.13:56908
2025-01-20 17:46:37,482 - 117 - root - INFO - log order: get raw data for order
2025-01-20 17:46:37,493 - 121 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123493, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': 'TestIf-08-750-03-2023', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'redd wine test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 17:46:37,493 - 129 - root - INFO - check inventory status: No product found with SKU 'TestIf-08-750-03-2023'.
2025-01-20 17:46:40,633 - 170 - root - INFO - process order response :{'acceptedOrders': [{'status': 'New', 'description': '123493', 'orderNo': 'CLTUR-123493'}], 'rejectedOrders': []}
2025-01-20 17:46:40,633 - 172 - root - INFO - extract order no : ['CLTUR-123493']
2025-01-20 17:46:40,648 - 177 - root - INFO - create order table :Table `order_detail` already exists.
2025-01-20 17:46:40,661 - 180 - root - INFO - order no add: Order number CLTUR-123493 added successfully.
2025-01-20 17:46:40,661 - 189 - root - INFO - last == {'status': 200, 'data': {'acceptedOrders': [{'status': 'New', 'description': '123493', 'orderNo': 'CLTUR-123493'}], 'rejectedOrders': []}}
2025-01-20 17:46:40,661 - 838 - app - ERROR - Exception on /ask/order_process [POST]
Traceback (most recent call last):
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 883, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1174, in make_response
    raise TypeError(
TypeError: The view function for 'process_order' did not return a valid response. The function either returned None or ended without a return statement.
2025-01-20 17:46:40,680 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 17:46:40] "[35m[1mPOST /ask/order_process HTTP/1.1[0m" 500 -
2025-01-20 17:46:42,093 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:46:42+0530 lvl=info msg="join connections" obj=join id=70796c54fdc2 l=127.0.0.1:5000 r=54.245.134.138:51962
2025-01-20 17:46:42,104 - 117 - root - INFO - log order: get raw data for order
2025-01-20 17:46:42,105 - 121 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123493, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': 'TestIf-08-750-03-2023', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'redd wine test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 17:46:42,112 - 129 - root - INFO - check inventory status: No product found with SKU 'TestIf-08-750-03-2023'.
2025-01-20 17:46:45,492 - 170 - root - INFO - process order response :{'acceptedOrders': [{'status': 'New', 'description': '123493', 'orderNo': 'CLTUR-123493'}], 'rejectedOrders': []}
2025-01-20 17:46:45,492 - 172 - root - INFO - extract order no : ['CLTUR-123493']
2025-01-20 17:46:45,516 - 177 - root - INFO - create order table :Table `order_detail` already exists.
2025-01-20 17:46:45,528 - 180 - root - INFO - order no add: Order number CLTUR-123493 added successfully.
2025-01-20 17:46:45,528 - 189 - root - INFO - last == {'status': 200, 'data': {'acceptedOrders': [{'status': 'New', 'description': '123493', 'orderNo': 'CLTUR-123493'}], 'rejectedOrders': []}}
2025-01-20 17:46:45,528 - 838 - app - ERROR - Exception on /ask/order_process [POST]
Traceback (most recent call last):
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 883, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\nickc\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1174, in make_response
    raise TypeError(
TypeError: The view function for 'process_order' did not return a valid response. The function either returned None or ended without a return statement.
2025-01-20 17:46:45,536 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 17:46:45] "[35m[1mPOST /ask/order_process HTTP/1.1[0m" 500 -
2025-01-20 17:53:27,242 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:53:27+0530 lvl=info msg="received stop request" obj=app stopReq="{err:<nil> restart:false}"
2025-01-20 17:53:27,242 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:53:27+0530 lvl=info msg="session closing" obj=tunnels.session err=nil
2025-01-20 17:53:27,242 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:53:27+0530 lvl=info msg="accept failed" obj=tunnels.session obj=csess id=a356967cf356 err="reconnecting session closed"
2025-01-20 17:53:27,242 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:53:27+0530 lvl=info msg="no more state changes" obj=tunnels.session
