2025-01-20 17:19:08,886 - 193 - pyngrok.process - INFO - Updating authtoken for default "config_path" of "ngrok_path": C:\Users\nickc\AppData\Local\ngrok\ngrok.exe
2025-01-20 17:19:08,940 - 283 - pyngrok.ngrok - INFO - Opening tunnel named: http-5000-0b67519b-99f5-4d46-8064-e49f878aef2e
2025-01-20 17:19:08,978 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:08+0530 lvl=info msg="no configuration paths supplied"
2025-01-20 17:19:08,978 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:08+0530 lvl=info msg="using configuration at default config path" path=C:\\Users\\nickc\\AppData\\Local/ngrok/ngrok.yml
2025-01-20 17:19:08,978 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:08+0530 lvl=info msg="open config file" path=C:\\Users\\nickc\\AppData\\Local\\ngrok\\ngrok.yml err=nil
2025-01-20 17:19:08,978 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:08+0530 lvl=info msg="starting web service" obj=web addr=127.0.0.1:4040 allow_hosts=[]
2025-01-20 17:19:09,137 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg="client session established" obj=tunnels.session
2025-01-20 17:19:09,137 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg="tunnel session started" obj=tunnels.session
2025-01-20 17:19:09,160 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg=start pg=/api/tunnels id=8be239765ec644b3
2025-01-20 17:19:09,160 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg=end pg=/api/tunnels id=8be239765ec644b3 status=200 dur=0s
2025-01-20 17:19:09,161 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg=start pg=/api/tunnels id=29b6124290da6a54
2025-01-20 17:19:09,161 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg=end pg=/api/tunnels id=29b6124290da6a54 status=200 dur=0s
2025-01-20 17:19:09,162 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg=start pg=/api/tunnels id=df228f0ea841cd2b
2025-01-20 17:19:09,205 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg="started tunnel" obj=tunnels name=http-5000-0b67519b-99f5-4d46-8064-e49f878aef2e addr=http://localhost:5000 url=https://4f59-2405-201-3009-d88a-c13b-f785-f04-1125.ngrok-free.app
2025-01-20 17:19:09,205 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg=end pg=/api/tunnels id=df228f0ea841cd2b status=201 dur=42.3094ms
2025-01-20 17:19:09,218 - 97 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-01-20 17:19:09,218 - 97 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-01-20 17:19:09,804 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:19:09+0530 lvl=info msg="update available" obj=updater
2025-01-20 17:20:30,844 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:20:30+0530 lvl=info msg="join connections" obj=join id=0f3262911007 l=127.0.0.1:5000 r=18.236.133.58:55048
2025-01-20 17:20:30,844 - 117 - root - INFO - log order: get raw data for order
2025-01-20 17:20:30,849 - 121 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123491, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': '04-750-01-666', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'red wi test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 17:20:30,870 - 129 - root - INFO - check inventory status: In Stock
2025-01-20 17:20:30,870 - 157 - root - INFO - stock is found in database: 04-750-01-666
2025-01-20 17:20:38,212 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:20:38+0530 lvl=info msg="join connections" obj=join id=3f6bc4f96366 l=127.0.0.1:5000 r=34.216.1.161:45954
2025-01-20 17:20:38,218 - 117 - root - INFO - log order: get raw data for order
2025-01-20 17:20:38,219 - 121 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123491, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': '04-750-01-666', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'red wi test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 17:20:38,236 - 129 - root - INFO - check inventory status: In Stock
2025-01-20 17:20:38,236 - 157 - root - INFO - stock is found in database: 04-750-01-666
2025-01-20 17:20:39,510 - 170 - root - INFO - process order response :{'acceptedOrders': [], 'rejectedOrders': [{'status': 'failure', 'orderNo': 'CLTUR-123491', 'description': {'error': 'Error in create Order : Products are not available at FC, Back order created'}}]}
2025-01-20 17:20:39,515 - 200 - root - INFO - {'status': 'error', 'message': 'list index out of range'}
2025-01-20 17:20:39,520 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 17:20:39] "[35m[1mPOST /ask/order_process HTTP/1.1[0m" 500 -
2025-01-20 17:20:52,408 - 170 - root - INFO - process order response :{'acceptedOrders': [{'status': 'New', 'description': '123491', 'orderNo': 'CLTUR-123491'}], 'rejectedOrders': []}
2025-01-20 17:20:52,409 - 172 - root - INFO - extract order no : CLTUR-123491
2025-01-20 17:20:52,427 - 177 - root - INFO - create order table :Table `order_detail` already exists.
2025-01-20 17:20:52,439 - 180 - root - INFO - order no add: Order number CLTUR-123491 added successfully.
2025-01-20 17:20:52,440 - 189 - root - INFO - last == {'status': 200, 'data': {'acceptedOrders': [{'status': 'New', 'description': '123491', 'orderNo': 'CLTUR-123491'}], 'rejectedOrders': []}}
2025-01-20 17:20:52,441 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 17:20:52] "POST /ask/order_process HTTP/1.1" 200 -
2025-01-20 17:25:25,809 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:25+0530 lvl=info msg="received stop request" obj=app stopReq="{err:<nil> restart:false}"
2025-01-20 17:25:25,809 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:25+0530 lvl=info msg="session closing" obj=tunnels.session err=nil
2025-01-20 17:25:25,809 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:25+0530 lvl=info msg="accept failed" obj=tunnels.session obj=csess id=a8e5d22a009d err="reconnecting session closed"
2025-01-20 17:25:25,809 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:25+0530 lvl=info msg="no more state changes" obj=tunnels.session
