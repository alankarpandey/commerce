2025-01-20 17:25:42,570 - 193 - pyngrok.process - INFO - Updating authtoken for default "config_path" of "ngrok_path": C:\Users\nickc\AppData\Local\ngrok\ngrok.exe
2025-01-20 17:25:42,610 - 283 - pyngrok.ngrok - INFO - Opening tunnel named: http-5000-3e3c7aeb-4b41-460f-b2c3-e308bf9aee9f
2025-01-20 17:25:42,646 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:42+0530 lvl=info msg="no configuration paths supplied"
2025-01-20 17:25:42,646 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:42+0530 lvl=info msg="using configuration at default config path" path=C:\\Users\\nickc\\AppData\\Local/ngrok/ngrok.yml
2025-01-20 17:25:42,646 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:42+0530 lvl=info msg="open config file" path=C:\\Users\\nickc\\AppData\\Local\\ngrok\\ngrok.yml err=nil
2025-01-20 17:25:42,648 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:42+0530 lvl=info msg="starting web service" obj=web addr=127.0.0.1:4040 allow_hosts=[]
2025-01-20 17:25:43,460 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg="update available" obj=updater
2025-01-20 17:25:43,681 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg="client session established" obj=tunnels.session
2025-01-20 17:25:43,681 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg="tunnel session started" obj=tunnels.session
2025-01-20 17:25:43,706 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg=start pg=/api/tunnels id=b71f79ac983136d7
2025-01-20 17:25:43,706 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg=end pg=/api/tunnels id=b71f79ac983136d7 status=200 dur=0s
2025-01-20 17:25:43,707 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg=start pg=/api/tunnels id=2ca87f0104cefe5e
2025-01-20 17:25:43,707 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg=end pg=/api/tunnels id=2ca87f0104cefe5e status=200 dur=56.6Âµs
2025-01-20 17:25:43,708 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg=start pg=/api/tunnels id=d8ca8c3fa09ecf3d
2025-01-20 17:25:43,759 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg="started tunnel" obj=tunnels name=http-5000-3e3c7aeb-4b41-460f-b2c3-e308bf9aee9f addr=http://localhost:5000 url=https://19c0-2405-201-3009-d88a-c13b-f785-f04-1125.ngrok-free.app
2025-01-20 17:25:43,760 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:25:43+0530 lvl=info msg=end pg=/api/tunnels id=d8ca8c3fa09ecf3d status=201 dur=51.6326ms
2025-01-20 17:25:43,772 - 97 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-01-20 17:25:43,773 - 97 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-01-20 17:28:27,984 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:28:27+0530 lvl=info msg="join connections" obj=join id=765ae70284be l=127.0.0.1:5000 r=35.161.245.22:40220
2025-01-20 17:28:27,988 - 117 - root - INFO - log order: get raw data for order
2025-01-20 17:28:27,991 - 121 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123492, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': '04-750-01-666', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'red wi test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 17:28:28,003 - 129 - root - INFO - check inventory status: In Stock
2025-01-20 17:28:28,003 - 157 - root - INFO - stock is found in database: 04-750-01-666
2025-01-20 17:28:33,348 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:28:33+0530 lvl=info msg="join connections" obj=join id=978e64d528e4 l=127.0.0.1:5000 r=34.216.1.161:51636
2025-01-20 17:28:33,359 - 117 - root - INFO - log order: get raw data for order
2025-01-20 17:28:33,360 - 121 - root - INFO - generate api body for order. {'formatVersion': '205', 'clientCode': 'CLTUR', 'order': [{'orderNo': 123492, 'orderType': '', 'brandCode': 'Brand', 'subClub': '', 'orderDate': '2025-01-20', 'packageType': 'Each', 'shipMethod': 'UP2', 'fulfillmentType': 'DTC-Direct Ship', 'fulfillmentLocation': 'CLTURNP', 'manifestLocation': 'NAPA', 'transferDestination': 'NAPA', 'requestedShipDate': '2025-01-22', 'shipToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com', 'dob': None}, 'billToAddress': {'firstName': 'Daniel', 'lastName': 'Klempay', 'company': '', 'address1': '1030 Masonic Ave Apt 3', 'address2': '', 'city': 'San Francisco', 'state': 'CA', 'postalCode': '94117', 'country': 'US', 'workPhone': '+13305596894', 'homePhone': '+13305596894', 'mobilePhone': '+13305596894', 'email': 'danklempay@gmail.com'}, 'altPickupAddress': {'alternateLocationType': 'HAL', 'locationId': 'Loc', 'firstName': 'AltAnkita', 'lastName': 'AltOjha', 'company': 'AltCompany', 'address1': 'Alt Address1', 'address2': 'Alt Address2', 'city': 'New York', 'state': 'NY', 'postalCode': '12345', 'country': 'US', 'phone': '8269081003'}, 'onHoldMessage': 'On Hold', 'specialInstructions': None, 'doNotReconfigure': '', 'licenseType': '', 'gift': 'N', 'giftMessage': None, 'orderNo3P': '', 'shippingTotal': '', 'freightTax': None, 'icePack': None, 'additionalFields': '', 'saturdayDelivery': 'N', 'insuranceAmount': '0.00', 'lob': None, 'orderItems': [{'productSKU': '04-750-01-666', 'quantity': 1, 'productSupplier': 'CLTUR', 'productName': 'red wi test', 'tax': '0.00', 'price': '0.00', 'pctAlcohol': 0, 'weight': '0.00'}]}]}
2025-01-20 17:28:33,365 - 129 - root - INFO - check inventory status: In Stock
2025-01-20 17:28:33,366 - 157 - root - INFO - stock is found in database: 04-750-01-666
2025-01-20 17:28:37,598 - 170 - root - INFO - process order response :{'acceptedOrders': [], 'rejectedOrders': [{'status': 'failure', 'orderNo': 'CLTUR-123492', 'description': {'error': 'Error in create Order : Products are not available at FC, Back order created'}}]}
2025-01-20 17:28:37,598 - 172 - root - INFO - extract order no : []
2025-01-20 17:28:37,599 - 189 - root - INFO - last == {'status': 200, 'data': {'acceptedOrders': [], 'rejectedOrders': [{'status': 'failure', 'orderNo': 'CLTUR-123492', 'description': {'error': 'Error in create Order : Products are not available at FC, Back order created'}}]}}
2025-01-20 17:28:37,604 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 17:28:37] "POST /ask/order_process HTTP/1.1" 200 -
2025-01-20 17:28:47,530 - 170 - root - INFO - process order response :{'acceptedOrders': [{'status': 'New', 'description': '123492', 'orderNo': 'CLTUR-123492'}], 'rejectedOrders': []}
2025-01-20 17:28:47,530 - 172 - root - INFO - extract order no : ['CLTUR-123492']
2025-01-20 17:28:47,558 - 177 - root - INFO - create order table :Table `order_detail` already exists.
2025-01-20 17:28:47,577 - 180 - root - INFO - order no add: Order number CLTUR-123492 added successfully.
2025-01-20 17:28:47,577 - 189 - root - INFO - last == {'status': 200, 'data': {'acceptedOrders': [{'status': 'New', 'description': '123492', 'orderNo': 'CLTUR-123492'}], 'rejectedOrders': []}}
2025-01-20 17:28:47,579 - 97 - werkzeug - INFO - 127.0.0.1 - - [20/Jan/2025 17:28:47] "POST /ask/order_process HTTP/1.1" 200 -
2025-01-20 17:32:33,661 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:32:33+0530 lvl=info msg="received stop request" obj=app stopReq="{err:<nil> restart:false}"
2025-01-20 17:32:33,661 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:32:33+0530 lvl=info msg="session closing" obj=tunnels.session err=nil
2025-01-20 17:32:33,661 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:32:33+0530 lvl=info msg="accept failed" obj=tunnels.session obj=csess id=dac047eda60c err="reconnecting session closed"
2025-01-20 17:32:33,661 - 99 - pyngrok.process.ngrok - INFO - t=2025-01-20T17:32:33+0530 lvl=info msg="no more state changes" obj=tunnels.session
